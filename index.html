<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>TimeRaven AI â€” Demo</title>

  <!-- ==========  STYLES  ========== -->
  <style>
    :root{
      --blue:#273c75; --green:#44bd32; --red:#e84118; --light:#f4f7fa; --shadow:rgba(0,0,0,.12);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:-apple-system,Arial,Helvetica,sans-serif;background:var(--light);color:#333}
    header{background:var(--blue);color:#fff;padding:20px;font-size:22px}
    main{padding:20px;display:flex;flex-wrap:wrap;gap:20px}
    .panel{background:#fff;flex:1 1 350px;min-width:280px;padding:18px;border-radius:8px;
           box-shadow:0 2px 4px var(--shadow)}
    h2{margin:0 0 12px;font-size:18px}
    ul{margin:0;padding:0;list-style:none}
    li{border-bottom:1px solid #ececec;padding:14px 0}
    .row{display:flex;justify-content:space-between;align-items:center;gap:8px;flex-wrap:wrap}
    .tag{background:#dcdde1;font-size:12px;border-radius:4px;padding:2px 6px;margin-left:6px}
    button{border:none;border-radius:4px;padding:8px 14px;font-size:15px;cursor:pointer}
    .accept{background:var(--green);color:#fff}
    .reject{background:var(--red);color:#fff}

    /* Modal */
    #overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;place-items:center;z-index:999}
    #modal{background:#fff;border-radius:10px;padding:24px;max-width:460px;width:88%;
           box-shadow:0 6px 12px var(--shadow)}
    #modal h3{margin:0 0 12px;font-size:20px}
    #modal button{margin-top:18px;background:var(--blue)}
  </style>
</head>

<body>
<header>ðŸ¦… TimeRaven AI â€” Demo</header>

<main>
  <section class="panel">
    <h2>AI Suggestions</h2>
    <ul id="suggestions"></ul>
  </section>

  <section class="panel">
    <h2>Today's Entries</h2>
    <ul id="entries"></ul>
  </section>
</main>

<!-- Modal -->
<div id="overlay">
  <div id="modal">
    <h3 id="mTitle"></h3>
    <p id="mBody" style="line-height:1.4"></p>
    <button id="mOk">OK</button>
  </div>
</div>

<!-- ==========  SCRIPT  ========== -->
<script>
/* ----- Mock data ----- */
const suggestions = [
  {id:1,desc:"09:00 â€“ 10:00 Kick-off meeting â€“ Client Acme",project:"Acme Website",billable:true},
  {id:2,desc:"10:15 â€“ 11:45 Code review â€“ Internal",project:"Internal R&D",billable:false},
  {id:3,desc:"13:00 â€“ 14:30 Sprint planning â€“ Client Beta",project:"Beta Mobile App",billable:true}
];
const entries = [
  {id:101,desc:"08:00 â€“ 09:00 Email & triage â€“ Internal",project:"Internal Admin",billable:false}
];

/* ----- Render lists ----- */
function render(){
  document.getElementById('suggestions').innerHTML = suggestions.map(s=>`
    <li>
      <div class="row">
        <span style="flex:1">${s.desc}<span class="tag">${s.project}</span></span>
        <div>
          <button class="accept" onclick="openModal('accept',${s.id})">Accept</button>
          <button class="reject" onclick="openModal('reject',${s.id})">Reject</button>
        </div>
      </div>
    </li>`).join('');

  document.getElementById('entries').innerHTML = entries.map(e=>`
    <li>${e.desc}<span class="tag">${e.project}</span></li>`).join('');
}

/* ----- Modal logic ----- */
let pendingAct=null,pendingId=null;
function openModal(act,id){
  pendingAct=act; pendingId=id;
  const item=suggestions.find(s=>s.id===id);
  mTitle.textContent = (act==='accept'?'Accept':'Reject')+' suggestion';
  mBody.innerHTML = `<strong>${item.desc}</strong><br>
                     Project: ${item.project}<br>
                     Billable: ${item.billable?'Yes':'No'}`;
  overlay.style.display='grid';
}
mOk.onclick = () => { overlay.style.display='none';
  if(pendingId!==null){
    if(pendingAct==='accept') accept(pendingId); else reject(pendingId);
  }
  pendingAct=pendingId=null;
};

/* ----- Accept / Reject ----- */
function accept(id){
  const i=suggestions.findIndex(s=>s.id===id);
  if(i>-1){ entries.push(suggestions[i]); suggestions.splice(i,1); render(); }
}
function reject(id){
  const i=suggestions.findIndex(s=>s.id===id);
  if(i>-1){ suggestions.splice(i,1); render(); }
}

render();
</script>
</body>
</html>
